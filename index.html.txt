<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Smart Study Planner</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
  <h2>ðŸ“˜ Smart Study Planner</h2>
  <p class="subtitle">Plan focused sessions with smart breaks.</p>

    <label>Total Study Hours</label>
    <input type="number" id="hours" placeholder="e.g. 4">

    <label>Energy Level</label>
    <select id="energy">
      <option value="low">Low</option>
      <option value="medium">Medium</option>
      <option value="high">High</option>
    </select>

    <label>Subject Name</label>
    <input type="text" id="subject">

    <label>Difficulty</label>
    <select id="difficulty">
      <option value="easy">Easy</option>
      <option value="medium">Medium</option>
      <option value="hard">Hard</option>
    </select>

    <div class="actions">
      <button class="secondary add-btn" onclick="addSubject()">Add Subject</button>
      <button class="primary" onclick="generatePlan()">Generate Plan</button>
    </div>

    <div class="output" id="output">
      <strong>Study Plan:</strong>
      <div id="plan"></div>
    </div>
  </div>

  <script>
  let subjects = [];

  function addSubject() {
    const name = document.getElementById("subject").value.trim();
    const difficulty = document.getElementById("difficulty").value;

    if (!name) {
      alert("Please enter a subject");
      return;
    }

    subjects.push({ name, difficulty });
    document.getElementById("subject").value = "";
  }

  function generatePlan() {
    const hours = Number(document.getElementById("hours").value);
    const energy = document.getElementById("energy").value;
    const planDiv = document.getElementById("plan");

    if (!hours || subjects.length === 0) {
      alert("Enter hours and add subjects");
      return;
    }

    planDiv.innerHTML = "";

    const SESSION = 45;
    const totalSessions = Math.floor((hours * 60) / SESSION);

    let lastDifficulty = null;
    let index = 0;

    for (let i = 0; i < totalSessions; i++) {
      const subject = subjects[index % subjects.length];

      // Avoid hard-hard
      if (lastDifficulty === "hard" && subject.difficulty === "hard") {
        index++;
        i--;
        continue;
      }

      // Study session (render badge + name + note)
      planDiv.innerHTML += `
        <div class="subject">
          <div style="display:flex;align-items:flex-start;gap:12px;">
            <span class="badge ${subject.difficulty}">${subject.difficulty}</span>
            <div style="flex:1">
              <div style="font-weight:700; margin-bottom:4px;">
                ðŸ“˜ ${subject.name} <span style="font-weight:600;color:var(--muted);font-size:0.92rem">â€“ 45 min</span>
              </div>
              <small>
                ${
                  subject.difficulty === "hard"
                    ? "Placed early because it needs high focus."
                    : "Scheduled to maintain steady energy."
                }
              </small>
            </div>
          </div>
        </div>
      `;

      lastDifficulty = subject.difficulty;

      // Break
      const breakTime =
        subject.difficulty === "hard" ? 15 :
        subject.difficulty === "medium" ? 10 : 5;

      planDiv.innerHTML += `
        <div class="subject">
          â˜• Break â€“ ${breakTime} min
          <br><small>Added for mental recovery.</small>
        </div>
      `;

      index++;
    }
  }
</script>


</body>
</html>
